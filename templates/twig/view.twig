{% if _records %}
<table class="{{ tableClass ?? [ 'table' ]|join( ' ' ) }}">
    <thead class="{{ tableHeaderClass ?? []|join( ' ' ) }}">
    {% block headRow %}
        <tr>
        {% for columnName, columnDisplayName in _columns %}
            {% block headCell %}<th>{{ columnDisplayName }}</th>{% endblock %}
        {% endfor %}
        </tr>
    {% endblock %}
    </thead>
    <tbody>
    {% for record in _records %}
        {% block bodyRow %}
            <tr>
                {% for columnName in _columns|keys %}
                    {% block bodyCell %}<td>{{ record[columnName].formatted_value|raw }}</td>{% endblock %}
                {% endfor %}
            </tr>
        {% endblock %}
    {% endfor %}
    </tbody>
</table>
{% else %}
    {% block noRecords %}
        <p>No records found.</p>
    {% endblock %}
{% endif %}
